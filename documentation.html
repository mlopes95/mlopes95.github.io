<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free mobile app HTML landing page template to help you build a great online presence for your app which will convert visitors into users">
    <meta name="author" content="Inovatik">

    <!-- OG Meta Tags to improve the way the post looks when you share the page on LinkedIn, Facebook, Google+ -->
    <meta property="og:site_name" content="" />
    <!-- website name -->
    <meta property="og:site" content="" />
    <!-- website link -->
    <meta property="og:title" content="" />
    <!-- title shown in the actual shared post -->
    <meta property="og:description" content="" />
    <!-- description shown in the actual shared post -->
    <meta property="og:image" content="" />
    <!-- image link, make sure it's jpg -->
    <meta property="og:url" content="" />
    <!-- where do you want your post to link to -->
    <meta property="og:type" content="article" />

    <!-- Website Title -->
    <title>Documentation - Bus Twins</title>

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
    <link href="css/magnific-popup.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="images/favicon-32x32.png">
</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->


    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top">
        <!-- Text Logo - Use this if you don't have a graphic logo -->
        <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Logo</a> -->

        <!-- Image Logo -->
        <a class="navbar-brand logo-image" href="index.html">BUS TWINS</a>

        <!-- Mobile Menu Toggle Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="index.html#header">HOME <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="index.html#preview">PREVIEW</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="index.html#features">FEATURES</a>
                </li>

                <!-- Dropdown Menu -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle page-scroll" href="index.html#app_notes" id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">DOCUMENTATION</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item page-scroll" href="#concept"><span class="item-text">THE CONCEPT</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#vision"><span class="item-text">VISION</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#personas"><span class="item-text">PERSONAS & SCENARIOS</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#architecture"><span class="item-text">ARCHITECTURE</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#test&acceptance"><span class="item-text">TEST & ACCEPTANCE</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#devarea"><span class="item-text">DEVELOPER MANUAL</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#usermanual"><span class="item-text">USER MANUAL</span></a>
                        <div class="dropdown-items-divide-hr"></div>
                        <a class="dropdown-item page-scroll" href="#improve"><span class="item-text">DIFFICULTIES & IMPROVEMENTS</span></a>
                    </div>
                </li>
                <!-- end of dropdown menu -->
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="index.html#our-team">OUR TEAM</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- end of navbar -->

    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Documentation</h1>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </header>
    <!-- end of header -->

    <!-- Breadcrumbs -->
    <div class="ex-basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs">
                        <a href="index.html">Home</a><i class="fa fa-angle-double-right"></i><span>Documentation</span>
                    </div>
                    <!-- end of breadcrumbs -->
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of ex-basic-1 -->
    <!-- end of breadcrumbs -->

    <!-- The concept -->
    <div id="concept" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="text-container">
                        <h3>The concept behind the theme</h3>
                        <p>Have you ever heard about the concept of digital twin? Basically, a digital twin is a digital replica of an entity. There may be virtual counterparts of people, places, devices or systems. The digital twins concept emphasizes the
                            connection between the physical model and its virtual counterpart. In a world full of technology, the digital twin concept is used in several areas, such as IoT, AI and software analytics/development. The idea is to create
                            digital simulation models that change as their physical counterparts change.</p>
                        <p>Our group decided to take on the usage of a digital twin to help a system development and testing. A system on its own may be a very complex entity and, as time goes by, it needs to be tested in order to correct possible faults
                            and acheive progress. Even though this is the natural flow of how a system is developed, depending on the system’s complexity barriers like time, physical resources and budget can stand up to constant testing.</p>

                    </div>
                    <!-- end of text-container -->

                    <div class="text-container">
                        <h3>Overview</h3>
                        <p>Let’s suppose an enterprise is considering building a regional bus network to connect points in a city. The project idea is to emulate a virtual bus network, with emulated buses, passengers and stations to test how that bus network
                            would behave in response to multiple requests from multiple people spread across the region. This way, the enterprise could test the network’s behavior with different amounts of people, buses, stations, etc…and eventually change
                            the routes’ trajectories, station locations or number of people allowed per bus in order to have the best optimized routes that satisfy the constant population needs. Testing the bus network with digital twins will allow the
                            enterprise to save on physical resources and budget as well as making the testing process really quick with no needs to ask people to try real buses and stations, since people can be emulated and their requests for buses emulated
                            as well.</p>
                    </div>
                    <!-- end of text-container -->

                    <div class="text-container">
                        <h3>Main Features</h3>
                        <ul class="list-unstyled li-space-lg indent">
                            <li class="media">
                                <i class="fas fa-square"></i>
                                <div class="media-body">Digital entity creation: Creation of a virtual bus line with the possibility for free disposal of their entities (buses, people, stations); Strength: Possibility to add multiple instances of the bus network entities (multiple
                                    buses, multiple stations, multiple people)</div>
                            </li>
                            <li class="media">
                                <i class="fas fa-square"></i>
                                <div class="media-body">Easy Testing: Possibility to add people, create requests (e.g. check if person X can catch the bus in its location, etc…)</div>
                            </li>
                            <li class="media">
                                <i class="fas fa-square"></i>
                                <div class="media-body">GPS Assurance: GPS locations of buses and stations are used to provide more test assurance</div>
                            </li>
                            <li class="media">
                                <i class="fas fa-square"></i>
                                <div class="media-body">To be discussed: Possibility to add people and buses characteristics that may affect the natural network usage (bus oil capacity or bus speed, blind people need more time to get into the bus, and this may result in a bus
                                    delay to reach the station where a person is requesting a bus…)</div>
                            </li>
                        </ul>
                    </div>
                    <!-- end of text-container -->
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of the concept -->

    <!-- Vision -->
    <div id="vision" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Vision</h3>
                    <div class="text-container">
                        <p>The potential of creating digital twins from buses is huge. The variety of the system’s possible features makes it usable in many perspectives.</p>
                        <p>In our case, the ability to create virtual buses and routes for them makes bus network efficiency testers work much more faster and reliable than experimenting with real buses. </p>
                        <p>On the other hand, the variety of content provided from all the system’s microservices makes it useful in a daily routine context of people who travel a lot by bus in a city. The system provides the buses’ positions, routes and
                            the final outcome on helping people checking the bus routes and warning them about the buses on each station is one of the system’s goals.</p>
                        <p>Therefore, the group found ideal to establish some scenarios about the potential system usage and personas to incarnate the ideal end users of the system.
                        </p>
                    </div>
                    <!-- end of text-container -->
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>

    <!-- Personas & Scenarios -->
    <div id="personas" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Personas & Scenarios</h3>
                    <div class="text-container">
                        <h4>Belmiro Azevedo</h4>
                        <div class="row">
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/persona1_1.png" alt="alternative">
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-6">
                                <div class="text-container">
                                    <h4>Profile</h4>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul class="list-unstyled li-space-lg indent">
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Belmiro de Jesus Azevedo</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">59 years old</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Lives in Porto</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Degree in Management (Faculdade de Economia do Porto)</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">CEO of a public transport company in Porto</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Owner of a Port Wine company</div>
                                                </li>
                                            </ul>
                                        </div>
                                        <!-- end of col -->
                                    </div>
                                    <!-- end of row -->
                                </div>
                                <!-- end of text-container -->
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->

                        <p></p>
                        <div class="row">
                            <div class="col-md-6">
                                <h4>Life Style</h4>
                                <p>He is a very busy man and has a very active lifestyle because, in addition to his intense work as a businessman, he holds an administrative position at Leixões Sport Club's SAD, the club where his father played. Every weekend,
                                    he goes to the stadium to watch his club's game. Despite his age, he is a man focused on new technologies and, being conservative, he always seeks to optimize costs in all aspects of his life. He was successful in the
                                    wine industry, being a pioneer in the use of sensors to automatically register the quality of wine in barrels. He has a peculiar taste for wines and has a collection of very valuable old bottles.
                                </p>
                            </div>
                            <!-- end of col -->
                            <div class="col-md-6">
                                <h4>Goal</h4>
                                <p>Bearing in mind the great success he had incorporating technology in the wine industry, and seeking to satisfy the need to create an optimized bus network for downtown Porto, Belmiro is working with the City Council. He
                                    needs to deploy a network that can satisfy the needs of the dense downtown population (local and tourist), and he cannot perform many physical experiments with buses and real people, so as not to condition tourism in
                                    that area. Thus, Belmiro needs to use the system to create virtual models of the bus network to simulate the behavior and persistence of said network and distribute the stations in order to optimize their routes.
                                </p>
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->
                        <div class="row">
                            <div class="col-lg-4">
                                <h4>Scenario 1</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Create digital twins from the elements of a bus line.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Belmiro wants to test a bus line idea and he accesses the emulation section.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>He creates 1 virtual bus and defines its route.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must spawn the bus and show how it performs from the departure station to the arrival station.</p>
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-4">
                                <h4>Scenario 2</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Create a virtual persona to test the bus network.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Belmiro needs to create virtual personas to test the bus line.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>He accesses the digital persona creation section and he creates a virtual person with name, age, background learning skills and request that will
                                    be used in a virtual bus line test.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must generate the digital person and confirm its creation.</p>
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-4">
                                <h4>Scenario 3</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Change a bus route.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Belmiro needs to change the route of bus number 1 to make a new test.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>He accesses the already created bus, taps on it and redefines a new route.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must change the bus number 1’s route and display the newly updated route.</p>
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->
                    </div>
                    <!-- end of text-container-->

                    <div class="text-container">
                        <h4>Paula Vasconcelos</h4>
                        <div class="row">
                            <div class="col-lg-6">
                                <img class="img-fluid" src="images/persona2.jpg" alt="alternative">
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-6">
                                <div class="text-container">
                                    <h4>Profile</h4>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul class="list-unstyled li-space-lg indent">
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Paula Alexandra Martins Vasconcelos</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">24 years old</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Lives in Porto</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">Degree in Basic Education (Universidade de Aveiro)</div>
                                                </li>
                                                <li class="media">
                                                    <i class="fas fa-square"></i>
                                                    <div class="media-body">School teacher in Porto</div>
                                                </li>

                                            </ul>
                                        </div>
                                        <!-- end of col -->
                                    </div>
                                    <!-- end of row -->
                                </div>
                                <!-- end of text-container -->
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->

                        <p></p>
                        <div class="row">
                            <div class="col-md-6">
                                <h4>Life Style</h4>
                                <p>Her lifestyle is very hurried. Every day she has to travel by bus to the school where she teaches, since she lives slightly far away, and she wants to save on gas and avoid the city's chaotic traffic. She teaches from 9am
                                    to 4pm during the week, and then takes the bus again to go to the gym, to keep her fitness. She is a modern girl, attentive to fashion and fitness trends, and loves social networks.
                                </p>
                            </div>
                            <!-- end of col -->
                            <div class="col-md-6">
                                <h4>Goal</h4>
                                <p>Every day, Paula uses the bus as a means of transport for the most diverse reasons: going to school, going to the gym, returning home, or going shopping. As she is constantly in a hurry, she always wants the bus to have
                                    the most direct route possible and would like to be able to assess what are the best routes for each station.
                                </p>
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->
                        <div class="row">
                            <div class="col-lg-4">
                                <h4>Scenario 1</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Notifications about bus passing.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Paula, is at the Aliados bus station waiting for a bus.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>The bus stops by the station before the station she is.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must send a notification to Paula that her bus is coming in 4 minutes.</p>
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-4">
                                <h4>Scenario 2</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Find out how long the next bus takes to arrive.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Paula, is at the Arrabida bus station waiting for a bus.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>She writes the station name where she is.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must tell her how much time the next bus takes to arrive.</p>
                            </div>
                            <!-- end of col -->
                            <div class="col-lg-4">
                                <h4>Scenario 3</h4>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Feature: </b></span>Find out the best bus route.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Given: </b></span>Paula, is at the Arrabida bus station waiting for a bus and wants to travel to Aliados.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>When: </b></span>She checks the buses that stop by her station.</p>
                                <p><span style="color: rgb(2, 219, 2); font-size: medium;"><b>Then: </b></span>The app must show her that the bus that has the shortest route to her destination is bus number 2.</p>
                            </div>
                            <!-- end of col -->
                        </div>
                        <!-- end of row -->
                    </div>
                    <!-- end of text-container -->
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of Personas & Scenarios -->

    <!-- Architexture -->
    <div id="architecture" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Architecture</h3>
                    <img class="img-fluid" src="images/diagramaES.png" alt="alternative">
			<
			<br>
			<br>
                    <div class="text-container">
                        <p>The information available on the dataset is used by the Bus-Producer microservice that communicates it to the other microservices via Kafka broker.</p>
                        <p>Each of the microservices send information to the front-end so that the end users can check the bus locations, bus average speed, etc…</p>
                        <p>If a user wants to add a new bus or a new route, he can connect to the Bus Routes microservice via a RESTful API and he can also access every other microservices’ available data via that same RESTful API.</p>
                    </div>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of Architecture -->

    <div id="test&acceptance" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Test&Acceptance</h3>
                    <div class="text-container">
                        <p>Cucumber tests were planned to be done, taking the basis of the Gherkin scenarios that were written. Furthermore, the cucumber test file for the Average Speed microservice (StepDefinitions.java) alongside the .feature files were created. Some of these tests were not fulfilled and the ones that were appear commented because they were not system independent.</p>

                        <p>Then one Integration test was designed for the Average speed microservice, leaving the other microservices to be more tested in future improvements.
                        The implemented test aims to create a bus and find if it was effectively created, as the code below shows.</p>
                    </div>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>

    <div id="devarea" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Developer Manual</h3>
                    <div class="text-container">
                        <p>The system development followed a modular approach in order to keep everything simple, converting the features previously discussed into independent and interchangeable microservices. Each one of the microservices contains everything necessary to execute only one functionality. This way, each module can be tested and run individually by the developer, if so is desired.</p>

                        <p>The system consists on 6 microservices. One of them was coded in Python and the remaining 5 using Java Springboot.</p>
                        <ul>
                            <li>Bus-producer</li>
                            <ul>
                                <li>Technologies used: Python, ApacheKafka</li>
                                <li>Feature: This microservice’s purpose is to send bus data, from a given dataset, to all other microservices, using a Kafka Producer.</li>
                                <li>Running on: a Docker container named esp41-digital-twins-bus-producer, on port 41005.</li>
                            </ul>
                        </ul>

                        <ul>
                            <li> Average-speed</li>
                            <ul>
                                <li> Technologies used: Java (Springboot), ApacheKafka, MySQL</li>
                                <li>Feature: This microservice’s purpose is to calculate a given bus’s average speed by accessing its data in the local database. This data is available through a REST API.</li>
                                <li> Running on: a Docker container named esp41-digital-twins-average-speed, on port 41001</li>
                            </ul>
                        </ul>
 
                         <ul>
                            <li> Bus-routes</li>
                            <ul>
                                <li>Technologies used: Java (Springboot), ApacheKafka, MySQL</li>
                                <li>Feature: This microservice’s purpose is to check all of a bus’s locations and return its route, as well as convey information regarding new locations to other microservices using a kafka producer. This information is available through a REST API.</li>
                                <li>Running on:  a Docker container named esp41-digital-twins-bus-routes, on port 41002</li>
                            </ul>
                        </ul>

                        <ul>
                            <li>Location-history</li>
                            <ul>
                                <li> Technologies used: Java (Springboot), ApacheKafka, MySQL</li>
                                <li>Feature: This microservice’s purpose is to store and display a given bus’s location history. The information is available through a REST API.</li>
                                <li>Running on: a Docker container named esp41-digital-twins-location-history, on port 41003</li>
                            </ul>
                        </ul>

                         <ul>
                            <li>Locations-rt (real time)</li>
                            <ul>
                                <li>Technologies used: Java (Springboot), ApacheKafka, MySQL</li>
                                <li>Feature: This microservice’s purpose is to update the local database’s information regarding a bus’s last position (current one). This information is available through a REST API.</li>
                                <li>Running on: a Docker container named esp41-digital-twins-location-rt, on port 41004</li>
                            </ul>
                        </ul>

                         <ul>
                            <li>Frontend</li>
                            <ul>
                                <li>Technologies used: Java (Springboot), ApacheKafka, MySQL</li>
                                <li>Feature:</li>
                                <li>Running on: a Docker container named esp41-digital-twins-frontend, on port 41080</li>
                            </ul>
                        </ul>

                        <ul>
                            <li>On the root directory it is found one folder for each one of the microservices.</li>
                            <li>Following the “/src/main/java” path of a Java microservice, the developer can find the java classes and work on them. In case the developer wants to create some more tests, he can access the “/src/test/java” path in the average-speed microservice folder to find the test files. There’s also the .feature files in the “/resources” path for cucumber tests.</li>
                            <li>In case of the Python microservice, the BusProducer.py file is found within its folder as well as the bussource.csv file containing the data of the buses.</li>
                            <li>The Dockerfiles directory contains all the Dockerfiles in order to build a docker image for each one of the microservices.</li>
                            <li>The frontend microservice has the same requisites as all other java microservices</li>
                            <li>The system assumes that there’s a MySQL database running on port 3307 with the credentials root/password. If the developer wants to change the database, he can access the applications.properties file and change it.</li>
                            <li>The system tries to start a connection with a Kafka broker on port 9093 because the system needs to be prepared to receive information from the bus-producer at any time.</li>
                            <li>The topic esp41-bus-routes must be created previously on the Kafka broker before the application deployment.</li>
                            <li>If the developer wants to see the logs via Kibana, he needs to edit the field <url>your_ip</url> in the file “logback.xml” so that the indexes can be created automatically in his own elasticsearch service. Therefore, he can see the following indexes esp41-logs-average-speed, esp41-logs-location-history, esp41-logs-location-rt and esp41-logs-bus-routes.</li>
                        </ul>
                        <p>The system can be expanded by creating and adding more microservices for whatever data the developer may find useful. If the developer wants to create a new microservice he must follow the following steps:</p>
                        <ul>
                            <li>Create a new folder in the root directory for the new microservice;</li>
                            <li>Create a new Dockerfile for the new microservice;</li>
                            <li> Add the configuration to the jenkins file to deploy;</li>
                            <li>Add the new microservice to the docker-compose-deploy.yml;</li>
                        </ul>
                    </div>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of Architecture -->

    <!--User Manual-->
    <div id="usermanual" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>User Manual</h3>
                    <div class="text-container">
                        <p>In order to deploy the system, the user must meet some requirements, having the following software installed:</p>
                        <ul>
                            <li>Docker;</li>
                            <li>Jenkins;</li>
                            <li>Registry;</li>
                            <li>Kafka;</li>
                            <li>Elastic Search (only if the user wants to check the logs for monitoring purposes);</li>
                            <li>Kibana (only if the user wants to check the logs for monitoring purposes);</li>
                        </ul>


                        <p>Assuming the user has already installed the above software, he needs to access the Jenkins web interface and create a github pipeline with the project repository link.</p>

                        <p>In case the user wants to check the system logs, he can access the index “esp41-*”. By using the * wildcard, it shows the user all the system logs at once.</p>

                        <p>In order to use the system, the user must access the following link:</p>

                        <ul>
                            <li> http://&ltmachine-ip&gt:41080/buses, where &ltmachine-ip&gt is the IP address of the machine where the user has deployed the project.</li>
                        </ul>
                        <p>Inside the dashboard, the user is granted by its simple design, providing an easy navigation throughout buttons. The main page shows the table with all the data coming from the project’s microservices and then the user can click
                            a button to redirect to an interactive map displaying all the created buses.</p>
                        <p>If the user wants to create a new bus and a route for the new bus, he needs to access the Rest API that allows access to these features.</p>
                        <p>For instance, if the user wants to add a location for a bus, he must access the bus-route microservice as shown below: http://&ltmachine-ip&gt:41002/bus-route/add-bus-location/{ID}&{busID}&{locationID}&{lon}&{lat}&{speed}.</p>
                        <p>E.g.: http://&ltmachine-ip&gt:41002/bus-route/add-bus-location/1000&testbus&1&34.5&23.2&20</p>
                        <p>In order to create a route, the user must create more than one location for that same bus.</p>
                    </div>
                    <!-- end of text-container -->
                    <p></p>
                    <a class="btn-outline-reg back" href="index.html">BACK</a>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    
    <div id="improve" class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <h3>Difficulties & Improvements</h3>
                    <div class="text-container">
                        <p>The team found out the machine’s memory usage a serious constraint and a constant variable that kept being an issue over the course of the project.</p>
			<p>As some possible future improvements, the team finds interesting to implement all the remaining scenarios (not all of them were implemented, specially in the Paula’s side, having 				an app sending notifications, etc...) and to implement more individual tests on more microservices.</p> 
                    </div>
                    <!-- end of text-container -->
                    <p></p>
                    <a class="btn-outline-reg back" href="index.html">BACK</a>
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>

    <!-- Breadcrumbs -->
    <div class="ex-basic-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumbs">
                        <a href="index.html">Home</a><i class="fa fa-angle-double-right"></i><span>Documentation</span>
                    </div>
                    <!-- end of breadcrumbs -->
                </div>
                <!-- end of col -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of breadcrumbs -->

    <!-- Footer UA-->
    <div class="footer">
        <div class="row">
            <div class="col-lg-4"></div>
            <div class="col-lg-4">
                <div class="image-container">
                    <img class="center" class="middle" style="width: 450px; height: 100px;" src="images/ua_deti_logo.png" alt="alternative">
                </div>
            </div>
            <div class="col-lg-4"></div>
        </div>
    </div>
    <!-- end of Footer UA -->

    <!-- Copyright -->
    <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="p-small">© Bus Twins 2020. All rights reserved</p>
                </div>
                <!-- end of col -->
            </div>
            <!-- enf of row -->
        </div>
        <!-- end of container -->
    </div>
    <!-- end of copyright -->

    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <!-- jQuery for Bootstrap's JavaScript plugins -->
    <script src="js/popper.min.js"></script>
    <!-- Popper tooltip library for Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Bootstrap framework -->
    <script src="js/jquery.easing.min.js"></script>
    <!-- jQuery Easing for smooth scrolling between anchors -->
    <script src="js/swiper.min.js"></script>
    <!-- Swiper for image and text sliders -->
    <script src="js/jquery.magnific-popup.js"></script>
    <!-- Magnific Popup for lightboxes -->
    <script src="js/morphext.min.js"></script>
    <!-- Morphtext rotating text in the header -->
    <script src="js/validator.min.js"></script>
    <!-- Validator.js - Bootstrap plugin that validates forms -->
    <script src="js/scripts.js"></script>
    <!-- Custom scripts -->
</body>

</html>
